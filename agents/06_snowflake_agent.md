[« 制御エージェント v2](./05_controlled_agent2.md)

# 概要

前回の学びをさらに活かして、もっと**自由度を下げて**＋**実運用で使える具体的なタスク**に当ててみる

つまり：

> 自動エージェントで Snowflake クエリを書いてもらえないか？

理由は：

- 人間はやりたいことがわかってるけど、それを実装するのが億劫という、 LLM にかなり適したケース
- 大量のデータ（Trinity のログのドキュメント）があるけど、それを裏で持っていて LLM に少しずつ絞っていってもらうのができるのでは？

# 流れ（理想）

**プロンプト**：〜〜をするクエリが欲しい。コンテンツログとアクションログがある。コンテンツログに動画、生放送、ユーザー etc. の情報がある。アクションログに視聴イベント、いいね etc. の情報がある。その内どれが必要そう？

**LLM**：動画に関するコンテンツログと視聴イベントに関するアクションログ

**プロンプト**：動画に関するコンテンツログは（関連するテーブルのリストとそれぞれの短い説明）、視聴イベントに関するアクションログは etc.

**LLM**：このテーブルとこのテーブルが使いたい

**プロンプト**：それらのテーブルはこういう定義でこういうカラムを持っていて etc.

**LLM**：（完成したクエリ）

# To be continued...
